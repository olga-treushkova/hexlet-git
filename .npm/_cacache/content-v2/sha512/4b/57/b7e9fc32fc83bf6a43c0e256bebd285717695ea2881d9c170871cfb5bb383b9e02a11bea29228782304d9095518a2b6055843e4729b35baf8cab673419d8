{"_id":"to-factory","_rev":"3-c703e5b66341796d9d90489e9939a6b2","name":"to-factory","description":"Convert classes into factory functions so they can be called with or without new.","dist-tags":{"latest":"1.0.0"},"versions":{"1.0.0":{"name":"to-factory","version":"1.0.0","description":"Convert classes into factory functions so they can be called with or without new.","main":"to-factory.js","scripts":{"prepublish":"make prepublish","test":"make test","clean":"make clean"},"keywords":["class","babel","es6","inheritance","new","function","functions","instance","inherit"],"author":{"name":"Tim Oxley","email":"secoif@gmail.com"},"license":"MIT","devDependencies":{"babel":"^5.1.13","tape":"^4.0.0"},"directories":{"test":"test"},"dependencies":{},"repository":{"type":"git","url":"git+https://github.com/timoxley/to-factory.git"},"bugs":{"url":"https://github.com/timoxley/to-factory/issues"},"homepage":"https://github.com/timoxley/to-factory#readme","gitHead":"e5be36125c77a92cd9278278ce33f71daf3e1a4b","_id":"to-factory@1.0.0","_shasum":"8738af8bd97120ad1d4047972ada5563bf9479b1","_from":".","_npmVersion":"2.8.3","_nodeVersion":"1.8.1","_npmUser":{"name":"timoxley","email":"secoif@gmail.com"},"maintainers":[{"name":"timoxley","email":"secoif@gmail.com"}],"dist":{"shasum":"8738af8bd97120ad1d4047972ada5563bf9479b1","tarball":"https://registry.npmjs.org/to-factory/-/to-factory-1.0.0.tgz","integrity":"sha512-JVYrY42wMG7ddf+wBUQR/uHGbjUHZbLisJ8N62AMm0iTZ0p8YTcZLzdtomU0+H+wa99VbkyvQGB3zxB7NDzgIQ==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCIFqOxb50YuTaA/LVaywhY0PsmIImb86/+d1qcJyobTBLAiAGCOFamS2UgCG8hvS+J07KLf35tTGMGIhhay8qN8dR9g=="}]}}},"readme":"# to-factory\n\nConvert classes into factory functions.\n\nAllows ES6 classes to be instantiated with or without `new`.\n\nAllows your API consumers to not need to divine (there's no built-in way to know) which functions you intend to be called with `new`, and which functions are to be called without.\n\n## Example\n\n### without `to-factory`\n\nMust call a class with `new`, cannot call class as a function:\n\n```js\nclass Person {\n  constructor(name) {\n    this.name = name\n  }\n}\n\nnew Person('alice') // ok\nPerson('bob') // TypeError: Cannot call a class as a function\n```\n\n### with `to-factory`\n\nCall a class with `new` or as a function:\n\n```js\n// exact same Person class as above example\n\nPerson = toFactory(Person)\n\nconst personA = new Person('created with new')\nconsole.log(personA.name) // => 'created with new'\n\nconst personB = Person('created without new')\nconsole.log(personB.name) // => 'created without new'\n```\n\nInheritance, etc all works as expected\n\n```js\n// Inheritance works as expected\nclass BigPerson extends Person {\n  constructor(name) {\n    super(name.toUpperCase())\n  }\n})\n\nBigPerson = toFactory(BigPerson)\n\nconst bigPersonA = new BigPerson('created with new')\nconsole.log(bigPersonA.name) // => 'CREATED WITH NEW'\n\nconst bigPersonB = BigPerson('created without new')\nconsole.log(bigPersonB.name) // => 'CREATED WITHOUT NEW'\n```\n\n## Why\n\nThe \"can't call without new\" restriction on ES6 classes create a needless incompatibility between tools which accept classes and tools which accept regular functions â€“ there is no built-in means for a tol to determine whether a function wants be called with new or without new, it just has to pick one and hope for the best.\n\nWhile it's true that some real-world functions insist on being constructors in much the same way, at least it is possible to patch the library and/or submit a pull request explaining that requiring new is uneccessarily rigid and provides little benefit when it's entirely possible to transparently handle both cases. With ES6 classes we have no option to just patch the library as this rigidity is baked right into the implementation.\n\n## See Also\n\n* [is-class](http://npmjs.com/package/is-class)\n\n## License\n\nMIT\n","maintainers":[{"name":"timoxley","email":"secoif@gmail.com"}],"time":{"modified":"2022-06-27T07:23:10.292Z","created":"2015-04-29T07:31:57.987Z","1.0.0":"2015-04-29T07:31:57.987Z"},"homepage":"https://github.com/timoxley/to-factory#readme","keywords":["class","babel","es6","inheritance","new","function","functions","instance","inherit"],"repository":{"type":"git","url":"git+https://github.com/timoxley/to-factory.git"},"author":{"name":"Tim Oxley","email":"secoif@gmail.com"},"bugs":{"url":"https://github.com/timoxley/to-factory/issues"},"license":"MIT","readmeFilename":"Readme.md"}